import re


def text_to_seconds(time_in_text):
    """
    Преобразует строку формата "N единиц ago" в количество секунд.

    Функция выполняет следующее:
    1. Принимает строку, содержащую временное значение (например, "4 minutes ago", "2 hours ago").
    2. Пытается распарсить значение и единицу времени с помощью регулярного выражения.
    3. Приводит единицу времени к единственному числу (например, "minutes" -> "minute").
    4. Конвертирует значение в секунды согласно справочнику:
       - "second"  → 1
       - "minute"  → 60
       - "hour"    → 3600
       - "day"     → 86400
       - "week"    → 604800
       - "month"   → 2592000 (условно 30 дней)
       - "year"    → 31536000 (условно 365 дней)
    5. Если строка не соответствует ожидаемому формату, возвращает `float('inf')`, обозначая, что время слишком "старое" или неизвестно.

    :param time_in_text: Строка с указанием времени (например, "5 minutes ago")
    :return: Количество секунд (int), либо бесконечность (float('inf')) при ошибке парсинга.
    """
    match = re.match(r"(\d+) (\w+) ago", time_in_text)
    if not match:
        return float('inf')  # Если не удалось распарсить, считаем как неактивный

    value, unit = int(match.group(1)), match.group(2).lower().rstrip('s')  # Убираем 's' на конце

    conversion = {
        "second": 1, "minute": 60, "hour": 3600,
        "day": 86400, "week": 604800, "month": 2592000, "year": 31536000
    }

    return value * conversion.get(unit, float('inf'))